<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<style>


</style>

</head>

<body>

<div >
	<textarea id="write" cols = 80 rows = 15></textarea>
</div>






<script>

/* 
This works in Safari but is blocked in Firefox due to
cross-origin restrictions
*/

function parse(str){
	let outx = "";
	let indx1 = 0, indx2 = 0;
	let count = 0;
	while(true){
		count++;
		if(count > 100) break;
		indx1 = str.indexOf("*--", indx2);
		if(indx1 < 0) break;
		indx2 = str.indexOf("<",indx1);
		if(indx2 < 0) break;
		outx += str.substring(indx1+3,indx2);
		outx += "\n";
	}
	return outx;
}
		

var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
	
    if (this.readyState == 4 && this.status == 200) {
	let str = xhttp.responseText;
	//str1 = parse(str);
       document.getElementById("write").value = str;
    }
};
xhttp.open("GET", "temp.txt", true);


xhttp.send();


</script>

</body>

</html>
